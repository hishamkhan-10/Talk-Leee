"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[313],{"./src/components/ui/button.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-white text-gray-900 shadow hover:bg-gray-100",destructive:"bg-red-500/20 text-red-400 border border-red-500/30 shadow-sm hover:bg-red-500/30",outline:"border border-white/20 bg-transparent text-white shadow-sm hover:bg-white/10",secondary:"bg-white/10 text-white shadow-sm hover:bg-white/20",ghost:"text-gray-400 hover:bg-white/10 hover:text-white",link:"text-white underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({className,variant,size,asChild=!1,...props},ref)=>{const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Comp,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({variant,size,className})),ref,...props})});Button.displayName="Button",Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]}},"./src/components/ui/viewport-drawer.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>viewport_drawer_stories});var react=__webpack_require__("./node_modules/react/index.js"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),utils=__webpack_require__("./src/lib/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function clamp(value,min,max){return Math.min(max,Math.max(min,value))}function ViewportDrawer({open,onOpenChange,side="left",size=320,margin=10,showOverlay=!0,overlayClassName,className,panelClassName,ariaLabel,children}){const panelRef=(0,react.useRef)(null),[viewport,setViewport]=(0,react.useState)({w:0,h:0});(0,react.useEffect)(()=>{if(!open)return;const update=()=>setViewport({w:window.innerWidth,h:window.innerHeight});return update(),window.addEventListener("resize",update,{passive:!0}),()=>window.removeEventListener("resize",update)},[open]),(0,react.useEffect)(()=>{if(!open)return;const onKeyDown=e=>{"Escape"===e.key&&onOpenChange(!1)};return window.addEventListener("keydown",onKeyDown),()=>window.removeEventListener("keydown",onKeyDown)},[open,onOpenChange]);const computed=(0,react.useMemo)(()=>{const safeMargin=Math.max(10,margin),w=viewport.w||0,h=viewport.h||0,maxW=Math.max(0,w-2*safeMargin),maxH=Math.max(0,h-2*safeMargin);return"left"===side||"right"===side?{margin:safeMargin,width:clamp(size,240,maxW),height:maxH}:{margin:safeMargin,width:maxW,height:clamp(size,220,maxH)}},[margin,side,size,viewport.h,viewport.w]),panelStyle="left"===side?{left:computed.margin,top:computed.margin,bottom:computed.margin,width:computed.width}:"right"===side?{right:computed.margin,top:computed.margin,bottom:computed.margin,width:computed.width}:"top"===side?{left:computed.margin,right:computed.margin,top:computed.margin,height:computed.height}:{left:computed.margin,right:computed.margin,bottom:computed.margin,height:computed.height},initial="left"===side?{x:-24,opacity:0}:"right"===side?{x:24,opacity:0}:"top"===side?{y:-24,opacity:0}:{y:24,opacity:0},animate="left"===side||"right"===side?{x:0,opacity:1}:{y:0,opacity:1},exit=initial;return(0,jsx_runtime.jsx)(AnimatePresence.N,{children:open?(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)("fixed inset-0 z-50",className),children:[showOverlay?(0,jsx_runtime.jsx)(proxy.P.button,{type:"button","aria-label":"Close drawer",className:(0,utils.cn)("absolute inset-0 bg-black/20 backdrop-blur-[2px]",overlayClassName),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>onOpenChange(!1)}):null,(0,jsx_runtime.jsx)(proxy.P.aside,{ref:node=>{panelRef.current=node},role:"dialog","aria-modal":"true","aria-label":ariaLabel,className:(0,utils.cn)("absolute overflow-hidden rounded-2xl border border-gray-200/60 bg-white/85 backdrop-blur-xl shadow-xl",panelClassName),style:panelStyle,initial,animate,exit,transition:{type:"spring",stiffness:260,damping:24},children:(0,jsx_runtime.jsx)("div",{className:"h-full w-full overflow-y-auto overscroll-contain",children})})]}):null})}ViewportDrawer.__docgenInfo={description:"",methods:[],displayName:"ViewportDrawer",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(next: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"next"}],return:{name:"void"}}},description:""},side:{required:!1,tsType:{name:"union",raw:'"left" | "right" | "top" | "bottom"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'}]},description:"",defaultValue:{value:'"left"',computed:!1}},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"320",computed:!1}},margin:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},showOverlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},overlayClassName:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},panelClassName:{required:!1,tsType:{name:"string"},description:""},ariaLabel:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var ui_button=__webpack_require__("./src/components/ui/button.tsx");function Demo(){const[open,setOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:"p-6 bg-gray-50 min-h-[320px]",children:[(0,jsx_runtime.jsx)(ui_button.$,{onClick:()=>setOpen(!0),children:"Open drawer"}),(0,jsx_runtime.jsx)(ViewportDrawer,{open,onOpenChange:setOpen,ariaLabel:"Demo drawer",side:"right",children:(0,jsx_runtime.jsxs)("div",{className:"p-4 space-y-3",children:[(0,jsx_runtime.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Drawer content"}),(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-700",children:"This drawer adapts its size to the viewport with a margin."}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>setOpen(!1),children:"Close"})]})})]})}const viewport_drawer_stories={title:"UI/ViewportDrawer",component:ViewportDrawer},Default={render:()=>(0,jsx_runtime.jsx)(Demo,{})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: () => <Demo />\n}",...Default.parameters?.docs?.source}}}},"./src/lib/utils.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.$)(inputs))}}}]);