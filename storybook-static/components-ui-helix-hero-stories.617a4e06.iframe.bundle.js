"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[342],{"./src/components/ui/helix-hero.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>helix_hero_stories});var events_1eccaf1c_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/events-1eccaf1c.esm.js"),react_three_fiber_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),dist=__webpack_require__("./node_modules/@react-three/postprocessing/dist/index.js"),build=__webpack_require__("./node_modules/postprocessing/build/index.js"),react=__webpack_require__("./node_modules/react/index.js"),three_core=__webpack_require__("./node_modules/three/build/three.core.js"),react_progressive_blur_dist=__webpack_require__("./node_modules/react-progressive-blur/dist/index.js"),morphing_cursor=__webpack_require__("./src/components/ui/morphing-cursor.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const VOICE_AGENTS=[{id:"sophia",name:"Sophia",gender:"female",description:"Warm & Professional"},{id:"emma",name:"Emma",gender:"female",description:"Energetic & Friendly"},{id:"alex",name:"Alex",gender:"male",description:"Confident & Clear"}],HelixRings=({levelsUp=10,levelsDown=10,stepY=.85,rotationStep=Math.PI/16,aiState="idle",audioLevel=0})=>{const groupRef=(0,react.useRef)(new three_core.YJl),meshRefs=(0,react.useRef)([]),timeRef=(0,react.useRef)(0),transitionRef=(0,react.useRef)(0),isActive="idle"!==aiState;(0,events_1eccaf1c_esm.D)((_,delta)=>{if(groupRef.current){timeRef.current+=delta;const targetTransition=isActive?1:0;transitionRef.current+=.15*(targetTransition-transitionRef.current);const t=transitionRef.current;isActive||(groupRef.current.rotation.y+=.005),groupRef.current.position.x=5,groupRef.current.position.y=0,groupRef.current.position.z=0;const totalRings=levelsUp+levelsDown+1;meshRefs.current.forEach((mesh,index)=>{if(mesh){const helixY=(index-levelsDown)*stepY,helixRotY=(index-levelsDown)*rotationStep,waveSpacing=.5,centerIndex=totalRings/2,distanceFromCenter=Math.abs(index-centerIndex),waveX=(index-centerIndex)*waveSpacing,finalHeight=.15+(audioLevel>.01?audioLevel*2.5*(1-distanceFromCenter/(totalRings/2)*.85):0);mesh.position.x=0*(1-t)+waveX*t,mesh.position.y=helixY*(1-t)+0*t,mesh.position.z=0,mesh.scale.x=1*(1-t)+.15*t,mesh.scale.y=1*(1-t)+.15*t,mesh.scale.z=1*(1-t)+finalHeight*t,mesh.rotation.y=(Math.PI/2+helixRotY)*(1-t)+0*t,mesh.rotation.x=0*(1-t)+Math.PI/2*t,mesh.rotation.z=0}})}});const ringGeometry=(0,react.useMemo)(()=>{const shape=new three_core.ypk;shape.absarc(0,0,.35,0,2*Math.PI,!1);const extrudeSettings={depth:10,bevelEnabled:!0,bevelThickness:.05,bevelSize:.05,bevelSegments:4,curveSegments:64},geometry=new three_core.QCA(shape,extrudeSettings);return geometry.translate(0,0,-5),geometry},[]),getRingColor=(index,total)=>{const t=(index+levelsDown)/total;return`rgb(${Math.floor(26+20*t)}, ${Math.floor(26+30*t)}, ${Math.floor(46+40*t)})`},elements=[],totalRings=levelsUp+levelsDown+1;for(let i=-levelsDown;i<=levelsUp;i++)elements.push({id:`helix-ring-${i}`,y:i*stepY,rotation:i*rotationStep,index:i+levelsDown});return(0,jsx_runtime.jsx)("group",{ref:groupRef,position:[5,0,0],children:elements.map((el,idx)=>(0,jsx_runtime.jsx)("mesh",{ref:ref=>{ref&&(meshRefs.current[idx]=ref)},geometry:ringGeometry,position:[0,el.y,0],rotation:[0,Math.PI/2+el.rotation,0],castShadow:!0,children:(0,jsx_runtime.jsx)("meshPhysicalMaterial",{color:getRingColor(el.index,totalRings),metalness:.7,roughness:.5,clearcoat:isActive?.3:0,clearcoatRoughness:.15,reflectivity:isActive?.3:0,iridescence:.96,iridescenceIOR:1.5,iridescenceThicknessRange:[100,400],emissive:getRingColor(el.index,totalRings),emissiveIntensity:isActive?.08+.2*audioLevel:0})},el.id))})},Scene=({aiState,audioLevel})=>(0,jsx_runtime.jsxs)(react_three_fiber_esm.Hl,{className:"h-full w-full",orthographic:!0,shadows:!0,camera:{zoom:70,position:[0,0,20],near:.1,far:1e3},gl:{antialias:!0},style:{background:"#fafafa"},children:[(0,jsx_runtime.jsx)("hemisphereLight",{color:"#e0e0e0",groundColor:"#ffffff",intensity:2}),(0,jsx_runtime.jsx)("directionalLight",{position:[10,10,5],intensity:2,castShadow:!0,color:"#ffffff"}),(0,jsx_runtime.jsx)(HelixRings,{aiState,audioLevel}),(0,jsx_runtime.jsxs)(dist.s0,{multisampling:8,children:[(0,jsx_runtime.jsx)(dist.mK,{kernelSize:3,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.6+.3*audioLevel}),(0,jsx_runtime.jsx)(dist.mK,{kernelSize:build.h_.HUGE,luminanceThreshold:0,luminanceSmoothing:0,intensity:.5+.2*audioLevel})]})]}),AudioVisualizer=({isActive,audioLevel})=>{const[time,setTime]=(0,react.useState)(0);return(0,react.useEffect)(()=>{if(!isActive)return;let rafId=0;const tick=t=>{setTime(t),rafId=requestAnimationFrame(tick)};return rafId=requestAnimationFrame(tick),()=>cancelAnimationFrame(rafId)},[isActive]),isActive?(0,jsx_runtime.jsx)("div",{className:"flex items-end justify-center gap-1 h-5 mt-1",children:[...Array(5)].map((_,i)=>(0,jsx_runtime.jsx)("div",{className:"w-1 rounded-full transition-all duration-75",style:{height:`${Math.max(3,6+12*audioLevel+Math.sin(time/120+i)*(2+2*audioLevel))}px`,background:"linear-gradient(to top, #6366f1, #818cf8, #a5b4fc)",opacity:.8+.2*audioLevel}},i))}):null},Hero=({title,description,stats})=>{const[aiState,setAiState]=(0,react.useState)("idle"),[audioLevel,setAudioLevel]=(0,react.useState)(0),[error,setError]=(0,react.useState)(null),[selectedVoiceIndex,setSelectedVoiceIndex]=(0,react.useState)(0),[currentVoiceName,setCurrentVoiceName]=(0,react.useState)(""),[voiceSelected,setVoiceSelected]=(0,react.useState)(!1),[hasSwiped,setHasSwiped]=(0,react.useState)(!1),wsRef=(0,react.useRef)(null),audioContextRef=(0,react.useRef)(null),audioQueueRef=(0,react.useRef)([]),isPlayingRef=(0,react.useRef)(!1),playNextAudioChunkRef=(0,react.useRef)(null),micStreamRef=(0,react.useRef)(null),micAudioContextRef=(0,react.useRef)(null),processorRef=(0,react.useRef)(null),animationFrameRef=(0,react.useRef)(null),analyserRef=(0,react.useRef)(null),selectedVoice=VOICE_AGENTS[selectedVoiceIndex],isActive="idle"!==aiState,playNextAudioChunk=(0,react.useCallback)(async()=>{if(!isPlayingRef.current&&0!==audioQueueRef.current.length){isPlayingRef.current=!0;try{audioContextRef.current&&"closed"!==audioContextRef.current.state||(audioContextRef.current=new AudioContext({sampleRate:16e3}));const ctx=audioContextRef.current,buffer=audioQueueRef.current.shift();if(buffer){const float32Data=new Float32Array(buffer.byteLength/4),view=new DataView(buffer);for(let i=0;i<float32Data.length;i++)float32Data[i]=view.getFloat32(4*i,!0);const audioBuffer=ctx.createBuffer(1,float32Data.length,16e3);audioBuffer.getChannelData(0).set(float32Data);const analyser=ctx.createAnalyser();analyser.fftSize=256;const source=ctx.createBufferSource();source.buffer=audioBuffer,source.connect(analyser),analyser.connect(ctx.destination),source.start();const dataArray=new Uint8Array(analyser.frequencyBinCount),trackOutputLevel=()=>{if(isPlayingRef.current){analyser.getByteFrequencyData(dataArray);const average=dataArray.reduce((a,b)=>a+b,0)/dataArray.length;setAudioLevel(Math.min(1,average/100)),requestAnimationFrame(trackOutputLevel)}};trackOutputLevel(),source.onended=()=>{isPlayingRef.current=!1,setAudioLevel(0),playNextAudioChunkRef.current?.()}}else isPlayingRef.current=!1}catch{isPlayingRef.current=!1}}},[]);(0,react.useEffect)(()=>{playNextAudioChunkRef.current=()=>{playNextAudioChunk()}},[playNextAudioChunk]);const startMicrophone=(0,react.useCallback)(async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});micStreamRef.current=stream;const audioContext=new AudioContext({sampleRate:16e3});micAudioContextRef.current=audioContext;const source=audioContext.createMediaStreamSource(stream),analyser=audioContext.createAnalyser();analyser.fftSize=256,source.connect(analyser),analyserRef.current=analyser;const dataArray=new Uint8Array(analyser.frequencyBinCount),updateLevel=()=>{if(analyserRef.current){analyserRef.current.getByteFrequencyData(dataArray);const average=dataArray.reduce((a,b)=>a+b,0)/dataArray.length;setAudioLevel(Math.min(1,average/128)),animationFrameRef.current=requestAnimationFrame(updateLevel)}};updateLevel();const processor=audioContext.createScriptProcessor(4096,1,1);processorRef.current=processor,processor.onaudioprocess=event=>{if(!wsRef.current||wsRef.current.readyState!==WebSocket.OPEN)return;const inputData=event.inputBuffer.getChannelData(0),pcmData=new Int16Array(inputData.length);for(let i=0;i<inputData.length;i++){const s=Math.max(-1,Math.min(1,inputData[i]));pcmData[i]=s<0?32768*s:32767*s}wsRef.current.send(pcmData.buffer)},source.connect(processor),processor.connect(audioContext.destination)}catch{setError("Microphone access denied")}},[]),stopMicrophone=(0,react.useCallback)(()=>{animationFrameRef.current&&cancelAnimationFrame(animationFrameRef.current),processorRef.current&&(processorRef.current.disconnect(),processorRef.current=null),micAudioContextRef.current&&(micAudioContextRef.current.close(),micAudioContextRef.current=null),micStreamRef.current&&(micStreamRef.current.getTracks().forEach(track=>track.stop()),micStreamRef.current=null),analyserRef.current=null,setAudioLevel(0)},[]),handleMessage=(0,react.useCallback)(async event=>{if(event.data instanceof Blob){const arrayBuffer=await event.data.arrayBuffer();audioQueueRef.current.push(arrayBuffer),setAiState("speaking"),playNextAudioChunkRef.current?.()}else{const data=JSON.parse(event.data);switch(data.type){case"ready":setAiState("browsing"),setCurrentVoiceName(data.agent_name);break;case"voice_switched":setCurrentVoiceName(data.agent_name);break;case"transcript":data.is_final&&data.text&&setAiState("processing");break;case"llm_response":setAiState("speaking");break;case"turn_complete":setAiState(voiceSelected?"listening":"browsing");break;case"barge_in":case"tts_interrupted":audioQueueRef.current=[],isPlayingRef.current=!1,audioContextRef.current&&(audioContextRef.current.close(),audioContextRef.current=null),voiceSelected&&setAiState("listening");break;case"error":setError(data.message)}}},[playNextAudioChunk,voiceSelected]),endSession=(0,react.useCallback)(()=>{if(stopMicrophone(),wsRef.current){try{wsRef.current.send(JSON.stringify({type:"end_call"}))}catch{}wsRef.current.close(),wsRef.current=null}audioContextRef.current&&(audioContextRef.current.close(),audioContextRef.current=null),audioQueueRef.current=[],isPlayingRef.current=!1,setAiState("idle"),setAudioLevel(0),setCurrentVoiceName(""),setHasSwiped(!1),setVoiceSelected(!1)},[stopMicrophone]),startSession=(0,react.useCallback)(()=>{setAiState("connecting"),setError(null),setHasSwiped(!1),setVoiceSelected(!1);const sessionId=`ask-ai-${Date.now()}`,ws=new WebSocket(`ws://localhost:8000/api/v1/ws/ai-test/${sessionId}`);wsRef.current=ws,ws.onopen=()=>{ws.send(JSON.stringify({type:"config",voice_id:selectedVoice.id}))},ws.onmessage=handleMessage,ws.onerror=()=>{setError("Connection error"),endSession()},ws.onclose=()=>{"idle"!==aiState&&endSession()}},[handleMessage,selectedVoice.id,aiState,endSession]),selectVoice=(0,react.useCallback)(()=>{setVoiceSelected(!0),setAiState("listening"),startMicrophone(),wsRef.current&&wsRef.current.readyState===WebSocket.OPEN&&wsRef.current.send(JSON.stringify({type:"voice_selected",voice_id:selectedVoice.id}))},[selectedVoice.id,startMicrophone]),switchVoice=(0,react.useCallback)(direction=>{hasSwiped||setHasSwiped(!0);const newIndex="next"===direction?(selectedVoiceIndex+1)%VOICE_AGENTS.length:(selectedVoiceIndex-1+VOICE_AGENTS.length)%VOICE_AGENTS.length;setSelectedVoiceIndex(newIndex),wsRef.current&&wsRef.current.readyState===WebSocket.OPEN&&(audioQueueRef.current=[],isPlayingRef.current=!1,audioContextRef.current&&(audioContextRef.current.close(),audioContextRef.current=null),wsRef.current.send(JSON.stringify({type:"switch_voice",voice_id:VOICE_AGENTS[newIndex].id})))},[selectedVoiceIndex,hasSwiped]),handleMainButtonClick=(0,react.useCallback)(()=>{"idle"===aiState?startSession():"browsing"===aiState||"speaking"===aiState?selectVoice():endSession()},[aiState,startSession,selectVoice,endSession]);(0,react.useEffect)(()=>()=>{stopMicrophone(),wsRef.current&&wsRef.current.close(),audioContextRef.current&&audioContextRef.current.close()},[stopMicrophone]);const getStatusText=()=>{switch(aiState){case"connecting":return"Connecting...";case"browsing":return"Tap to select";case"listening":return"Listening...";case"processing":return"Thinking...";case"speaking":return voiceSelected?"Speaking...":"Tap to select";default:return"Click to talk"}},showSwipeArrows=isActive&&!voiceSelected;return(0,jsx_runtime.jsxs)("section",{className:"relative h-screen w-screen font-sans tracking-tight text-gray-900 bg-neutral-50 overflow-hidden",children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 z-0",children:(0,jsx_runtime.jsx)(Scene,{aiState,audioLevel})}),(0,jsx_runtime.jsxs)("div",{className:"absolute z-20 flex items-center gap-3",style:{left:"50%",top:"50%",transform:"translate(calc(-50% + 22.5vw), -50%)"},children:[showSwipeArrows&&hasSwiped&&(0,jsx_runtime.jsx)("button",{onClick:()=>switchVoice("prev"),className:"w-10 h-10 rounded-full bg-white/90 hover:bg-white border border-indigo-200 flex items-center justify-center text-indigo-600 hover:text-indigo-700 transition-all shadow-lg hover:shadow-xl hover:scale-110",children:(0,jsx_runtime.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,jsx_runtime.jsxs)("button",{onClick:handleMainButtonClick,className:"relative rounded-full flex flex-col items-center justify-center transition-all duration-500 ease-out cursor-pointer group backdrop-blur-md "+(isActive?"w-40 h-40 bg-white/80 border-2 border-indigo-300/60":"w-32 h-32 bg-white/60 hover:bg-white/80 border border-gray-200/50 hover:border-gray-300 shadow-2xl hover:shadow-3xl hover:scale-105"),style:{boxShadow:isActive?`0 0 40px rgba(99, 102, 241, ${.2+.2*audioLevel}), 0 0 80px rgba(129, 140, 248, ${.1+.15*audioLevel})`:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},children:[isActive&&(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-indigo-400/30",style:{animation:"ping 2s cubic-bezier(0, 0, 0.2, 1) infinite"}}),(0,jsx_runtime.jsxs)("div",{className:"text-center z-10",children:[!isActive&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{className:"text-xl font-semibold text-gray-800 group-hover:text-gray-900 mb-1",children:"Ask AI"}),(0,jsx_runtime.jsx)("p",{className:"text-xs text-gray-500 group-hover:text-gray-600",children:getStatusText()})]}),isActive&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold text-indigo-700 mb-0.5",children:currentVoiceName||selectedVoice.name}),(0,jsx_runtime.jsx)("div",{className:"text-xs text-indigo-500 mb-1",children:selectedVoice.description}),(0,jsx_runtime.jsx)(AudioVisualizer,{isActive:voiceSelected&&("listening"===aiState||"speaking"===aiState),audioLevel}),(0,jsx_runtime.jsx)("p",{className:"text-[10px] text-indigo-400 mt-1",children:getStatusText()})]})]})]}),showSwipeArrows&&(0,jsx_runtime.jsx)("button",{onClick:()=>switchVoice("next"),className:"w-10 h-10 rounded-full bg-white/90 hover:bg-white border border-indigo-200 flex items-center justify-center text-indigo-600 hover:text-indigo-700 transition-all shadow-lg hover:shadow-xl hover:scale-110",children:(0,jsx_runtime.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),error&&(0,jsx_runtime.jsx)("p",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 text-xs text-red-500 whitespace-nowrap",children:error})]}),(0,jsx_runtime.jsxs)("div",{className:"absolute bottom-8 left-8 md:bottom-16 md:left-16 z-20 max-w-2xl",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 mb-6",children:[(0,jsx_runtime.jsx)(morphing_cursor.U,{text:"AI VOICE",hoverText:"SMART AI"}),(0,jsx_runtime.jsx)(morphing_cursor.U,{text:"DIALER",hoverText:"CALLS"})]}),(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-base md:text-lg leading-relaxed font-light tracking-tight mb-8 max-w-lg",children:description}),stats&&stats.length>0&&(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-8",children:stats.map((stat,index)=>(0,jsx_runtime.jsxs)("div",{className:"text-left",children:[(0,jsx_runtime.jsx)("div",{className:"text-3xl md:text-4xl font-semibold text-gray-900",children:stat.value}),(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-500 uppercase tracking-wide mt-1",children:stat.label})]},index))})]}),(0,jsx_runtime.jsx)(react_progressive_blur_dist.A,{className:"absolute bg-gradient-to-b from-transparent to-neutral-50/40 h-1/2 md:h-1/3 w-full bottom-0",intensity:50}),(0,jsx_runtime.jsx)(react_progressive_blur_dist.A,{className:"absolute bg-gradient-to-b from-neutral-50/40 to-transparent h-1/2 md:h-1/3 w-full top-0",intensity:50}),(0,jsx_runtime.jsx)("style",{jsx:!0,children:"\n                @keyframes ping {\n                    75%, 100% { transform: scale(1.15); opacity: 0; }\n                }\n            "})]})};Hero.__docgenInfo={description:"",methods:[],displayName:"Hero",props:{title:{required:!0,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"string"},description:""},stats:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; value: string }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:"Array<{ label: string; value: string }>"},description:""}}};const helix_hero_stories={title:"UI/Hero",component:Hero,args:{title:"Talk-Lee",description:"Intelligent voice communication platform powered by advanced AI agents",stats:[{label:"Minutes remaining",value:"1,500"},{label:"Active campaigns",value:"4"},{label:"Success rate",value:"92%"}]},parameters:{layout:"fullscreen"}},Default={render:args=>(0,jsx_runtime.jsx)("div",{className:"min-h-[640px] bg-white",children:(0,jsx_runtime.jsx)(Hero,{...args})})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: args => <div className="min-h-[640px] bg-white">\r\n            <Hero {...args} />\r\n        </div>\n}',...Default.parameters?.docs?.source}}}},"./src/components/ui/morphing-cursor.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:()=>MagneticText});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function MagneticText({text="CREATIVE",hoverText="EXPLORE",className}){const containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),circleRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),innerTextRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[isHovered,setIsHovered]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[containerSize,setContainerSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({width:0,height:0}),mousePos=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({x:0,y:0}),currentPos=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({x:0,y:0}),animationFrameRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const updateSize=()=>{containerRef.current&&setContainerSize({width:containerRef.current.offsetWidth,height:containerRef.current.offsetHeight})};return updateSize(),window.addEventListener("resize",updateSize),()=>window.removeEventListener("resize",updateSize)},[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const lerp=(start,end,factor)=>start+(end-start)*factor,animate=()=>{currentPos.current.x=lerp(currentPos.current.x,mousePos.current.x,.15),currentPos.current.y=lerp(currentPos.current.y,mousePos.current.y,.15),circleRef.current&&(circleRef.current.style.transform=`translate(${currentPos.current.x}px, ${currentPos.current.y}px) translate(-50%, -50%)`),innerTextRef.current&&(innerTextRef.current.style.transform=`translate(${-currentPos.current.x}px, ${-currentPos.current.y}px)`),animationFrameRef.current=requestAnimationFrame(animate)};return animationFrameRef.current=requestAnimationFrame(animate),()=>{animationFrameRef.current&&cancelAnimationFrame(animationFrameRef.current)}},[]);const handleMouseMove=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e=>{if(!containerRef.current)return;const rect=containerRef.current.getBoundingClientRect();mousePos.current={x:e.clientX-rect.left,y:e.clientY-rect.top}},[]),handleMouseEnter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e=>{if(!containerRef.current)return;const rect=containerRef.current.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top;mousePos.current={x,y},currentPos.current={x,y},setIsHovered(!0)},[]),handleMouseLeave=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{setIsHovered(!1)},[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{ref:containerRef,onMouseMove:handleMouseMove,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("relative inline-flex items-center justify-center cursor-none select-none",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"text-6xl md:text-8xl font-bold tracking-tighter text-gray-900",children:text}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{ref:circleRef,className:"absolute top-0 left-0 pointer-events-none rounded-full bg-gray-900 overflow-hidden",style:{width:isHovered?180:0,height:isHovered?180:0,transition:"width 0.5s cubic-bezier(0.33, 1, 0.68, 1), height 0.5s cubic-bezier(0.33, 1, 0.68, 1)",willChange:"transform, width, height"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{ref:innerTextRef,className:"absolute flex items-center justify-center",style:{width:containerSize.width,height:containerSize.height,top:"50%",left:"50%",willChange:"transform"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"text-6xl md:text-8xl font-bold tracking-tighter text-white whitespace-nowrap",children:hoverText})})})]})}MagneticText.__docgenInfo={description:"",methods:[],displayName:"MagneticText",props:{text:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"CREATIVE"',computed:!1}},hoverText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"EXPLORE"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/lib/utils.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.$)(inputs))}}}]);